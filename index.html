<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>üöó Car Clicker</title>

<style>
body {
  margin: 0;
  background: #000; /* –ß–Å–†–ù–´–ô –§–û–ù */
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

/* ===== –û–ë–Å–†–¢–ö–ê ===== */
.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
}

/* ===== –°–¶–ï–ù–ê ===== */
.scene {
  width: 320px;
  height: 180px;
  background: linear-gradient(#87ceeb 60%, #7ed957 60%);
  border-radius: 16px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 0 25px rgba(0,0,0,.6);
}

/* ===== –î–û–†–û–ì–ê ===== */
.road {
  position: absolute;
  bottom: 0;
  width: 200%;
  height: 40px;
  background: repeating-linear-gradient(
    90deg,
    #444 0 30px,
    #555 30px 60px
  );
  animation: roadMove 2s linear infinite;
}

@keyframes roadMove {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}

/* ===== –ú–ê–®–ò–ù–ê ===== */
.car {
  position: absolute;
  bottom: 28px;
  left: 50%;
  transform: translateX(-50%) scaleX(-1); /* ‚Üê –û–¢–ó–ï–†–ö–ê–õ–ò–í–ê–ù–ò–ï */
  font-size: 56px;
  cursor: pointer;
  animation: idle 1s ease-in-out infinite;
  z-index: 5;
}

@keyframes idle {
0%,100% { transform: translate(-50%, 0) scaleX(-1); }
50% { transform: translate(-50%, -2px) scaleX(-1); }
}

/* ===== –£–°–ö–û–†–ï–ù–ò–ï ===== */
.car.boost {
  animation: boost 0.2s ease;
}

@keyframes boost {
0% { transform: translate(-50%, 0) scaleX(-1); }
50% { transform: translate(-54%, -3px) scaleX(-1); }
100% { transform: translate(-50%, 0) scaleX(-1); }
}

/* ===== –î–´–ú (–°–ó–ê–î–ò) ===== */
.smoke {
  position: absolute;
  bottom: 40px;
  left: calc(50% - 70px); /* –°–õ–ï–í–ê –û–¢ –ú–ê–®–ò–ù–´ */
  font-size: 18px;
  animation: smoke 0.6s ease-out;
  pointer-events: none;
}

@keyframes smoke {
  from {
    opacity: .8;
    transform: translateX(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateX(-20px) scale(1.5);
  }
}

/* ===== –ò–ù–¢–ï–†–§–ï–ô–° ===== */
.game {
  background: #111;
  color: white;
  padding: 18px;
  border-radius: 16px;
  width: 320px;
  text-align: center;
}

.car-name {
  color: orange;
  font-weight: bold;
  margin-bottom: 6px;
}

button {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  border-radius: 10px;
  border: none;
  background: orange;
  font-weight: bold;
  cursor: pointer;
}

button:disabled {
  background: #555;
  color: #aaa;
}

.info {
  margin-top: 8px;
  font-size: 14px;
  color: #ccc;
}
</style>
</head>
<body>

<div class="wrapper">

  <!-- –°–¶–ï–ù–ê -->
  <div class="scene">
    <div class="road" id="road"></div>
    <div class="car" id="car" onclick="clickCar()">üöò</div>
  </div>

  <!-- –ò–ù–¢–ï–†–§–ï–ô–° -->
  <div class="game">
    <h2>üöó Car Clicker</h2>
    üí∞ <span id="money">0</span>$<br><br>

    <div class="car-name" id="carName">Honda Civic</div>

    <button onclick="buyEngine()">üîß –î–≤–∏–≥–∞—Ç–µ–ª—å (+1$) ‚Äî <span id="enginePrice">50</span>$</button>
    <button onclick="buyTaxi()">üöï –¢–∞–∫—Å–∏ (+2$/—Å–µ–∫) ‚Äî <span id="taxiPrice">100</span>$</button>
    <button onclick="buyCar()" id="carBtn">üöó –ù–æ–≤–∞—è –º–∞—à–∏–Ω–∞ ‚Äî <span id="carPrice">500</span>$</button>

    <div class="info">
      –ö–ª–∏–∫: <span id="perClick">1</span>$ |
      –ü–∞—Å—Å–∏–≤: <span id="perSecond">0</span>$/—Å–µ–∫
    </div>
  </div>

</div>

<script>
/* ===== –ú–ê–®–ò–ù–´ ===== */
const cars = [
  { name: "Honda Civic", icon: "üöò", price: 0, bonus: 1 },
  { name: "BMW", icon: "üöô", price: 500, bonus: 3 },
  { name: "Porsche", icon: "üèéÔ∏è", price: 2000, bonus: 6 },
  { name: "Ferrari", icon: "üèéÔ∏èüî•", price: 5000, bonus: 10 }
];

let money = +localStorage.getItem("money") || 0;
let perClick = +localStorage.getItem("perClick") || 1;
let perSecond = +localStorage.getItem("perSecond") || 0;
let enginePrice = +localStorage.getItem("enginePrice") || 50;
let taxiPrice = +localStorage.getItem("taxiPrice") || 100;
let carIndex = +localStorage.getItem("carIndex") || 0;

const moneyEl = document.getElementById("money");
const perClickEl = document.getElementById("perClick");
const perSecondEl = document.getElementById("perSecond");
const enginePriceEl = document.getElementById("enginePrice");
const taxiPriceEl = document.getElementById("taxiPrice");
const carPriceEl = document.getElementById("carPrice");
const carBtn = document.getElementById("carBtn");
const carEl = document.getElementById("car");
const carNameEl = document.getElementById("carName");
const road = document.getElementById("road");

let speedTimeout;

/* ===== UI ===== */
function updateUI() {
  moneyEl.textContent = Math.floor(money);
  perClickEl.textContent = perClick;
  perSecondEl.textContent = perSecond;
  enginePriceEl.textContent = enginePrice;
  taxiPriceEl.textContent = taxiPrice;

  carEl.textContent = cars[carIndex].icon;
  carNameEl.textContent = cars[carIndex].name;

  if (carIndex < cars.length - 1) {
    carPriceEl.textContent = cars[carIndex + 1].price;
    carBtn.disabled = money < cars[carIndex + 1].price;
  } else {
    carBtn.textContent = "üèÅ –ú–∞–∫—Å–∏–º—É–º";
    carBtn.disabled = true;
  }
}

function save() {
  localStorage.setItem("money", money);
  localStorage.setItem("perClick", perClick);
  localStorage.setItem("perSecond", perSecond);
  localStorage.setItem("enginePrice", enginePrice);
  localStorage.setItem("taxiPrice", taxiPrice);
  localStorage.setItem("carIndex", carIndex);
}

/* ===== –≠–§–§–ï–ö–¢–´ ===== */
function spawnSmoke() {
  const s = document.createElement("div");
  s.className = "smoke";
  s.textContent = "üí®";
  document.querySelector(".scene").appendChild(s);
  setTimeout(() => s.remove(), 600);
}

function boost() {
  road.style.animationDuration = "0.6s";
  carEl.classList.add("boost");
  spawnSmoke();

  clearTimeout(speedTimeout);
  speedTimeout = setTimeout(() => {
    road.style.animationDuration = "2s";
    carEl.classList.remove("boost");
  }, 300);
}

/* ===== –ò–ì–†–ê ===== */
function clickCar() {
  money += perClick;
  boost();
  updateUI();
  save();
}

function buyEngine() {
  if (money >= enginePrice) {
    money -= enginePrice;
    perClick++;
    enginePrice = Math.floor(enginePrice * 1.5);
    updateUI();
    save();
  }
}

function buyTaxi() {
  if (money >= taxiPrice) {
    money -= taxiPrice;
    perSecond += 2;
    taxiPrice = Math.floor(taxiPrice * 1.6);
    updateUI();
    save();
  }
}

function buyCar() {
  const next = cars[carIndex + 1];
  if (next && money >= next.price) {
    money -= next.price;
    carIndex++;
    perClick += next.bonus;
    updateUI();
    save();
  }
}

setInterval(() => {
  money += perSecond;
  updateUI();
  save();
}, 1000);

updateUI();
</script>

</body>
</html>